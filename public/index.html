<!DOCTYPE html>
<html>
<head>
  <title>Product Manager</title>
  <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-4">
    <h1>Add Product</h1>
    <!-- ... Existing Form ... -->

    <div class="mt-4">
      <h2>Products</h2>
      <div id="productList">
        <!-- Product data will be dynamically added here -->
      </div>
    </div>
  </div>

  <script>
    // Fetch product data from API and display it on the UI
    async function fetchProducts() {
      try {
        const response = await fetch('/api/products');
        const products = await response.json();
        const productList = document.getElementById('productList');
        productList.innerHTML = '';
        products.forEach((product) => {
          const productDiv = document.createElement('div');
          productDiv.className = 'row';
          productDiv.innerHTML = `
            <div class="col">
              <p><strong>Product Name:</strong> ${product.product_name}</p>
              <p><strong>Selling Price:</strong> ${product.selling_price}</p>
            </div>
            <div class="col">
              <button class="btn btn-danger" onclick="deleteProduct(${product.id})">Delete</button>
            </div>
          `;
          productList.appendChild(productDiv);
        });
      } catch (err) {
        console.error('Error fetching products:', err);
      }
    }

    // Delete a product by ID
    async function deleteProduct(id) {
      try {
        const response = await fetch(`/api/products/${id}`, { method: 'DELETE' });
        const data = await response.json();
        console.log(data);
        // Update the UI after deletion
        fetchProducts();
      } catch (err) {
        console.error('Error deleting product:', err);
      }
    }

    // Fetch initial product data on page load
    fetchProducts();
  </script>
</body>
</html>
